<app-navbar></app-navbar>

<div class="container scroll mt-5 pt-2">
  <div class="list-group" *ngIf="flights && !returnFlights; else both">
    <h3>{{originLocation.city}} -----> {{destinationLocation.city}}</h3>
    <div class="list-group-item" *ngFor="let flight of flights">
      <div class="bg-dark" (click)="chosenGoFlight = flight; singleChoice = true">{{ flight.code }}</div>
    </div>
    <button [disabled]="!singleChoice" (click)="goToReservation(chosenGoFlight, null, 1)">BOOK!</button>
  </div>

  <ng-template #both>
    <div *ngIf="flights && returnFlights">
      <h3>{{originLocation.city}} -----> {{destinationLocation.city}}</h3>
      <div class="list-group" *ngFor="let flight of flights">
        <div class="list-group-item">
          <div class="bg-dark" (click)="chosenGoFlight = flight">
            {{ flight.code }}
          </div>
        </div>
      </div>
      <h3>{{destinationLocation.city}} -----> {{originLocation.city}}</h3>
      <div class="list-group" *ngFor="let flight of returnFlights">
        <div class="list-group-item">
          <div class="bg-dark" (click)="chosenReturnFlight = flight">
            {{ flight.code }}
          </div>
        </div>
      </div>
    </div>
    <button [disabled]="!(chosenGoFlight && chosenReturnFlight)"  (click)="goToReservation(chosenGoFlight, chosenReturnFlight, 2)">BOOK!</button>
  </ng-template>
</div>

